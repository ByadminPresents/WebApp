@using WebApplication2.Models
@model VotingEvent
@{
    Layout = null;
}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <link rel="stylesheet" href="~/css/style.css" type="text/css">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Сайт для голосования</title>
</head>
<body>

    <div class="header">
        <div class="container-header">
            <a href="../VotingEvents/VotingEventsList" class="back-arrow">&#8592;</a>
            <a href="vote.html"> Страница для голосования </a>
            <h1 class="title">@Model.Name</h1>
        </div>
    </div>

    <div class="container-vote">
        <!-- Team container -->
        <div class="team-container">
            <a asp-controller="Teams" asp-action="TeamCreateView" asp-route-votingEventId="@Model.Id" class="team-square">
                <p style="font-weight: bold;">Добавить команду</p>
            </a>
            @{
                int count = 0;
                foreach (var team in Model.Projects)
                {
                    count++;
                    <div class="team-square">
                        <p style="font-weight: bold;">Команда @count</p>
                        <p style="font-weight: bold;">Название проекта:</p>
                        <p>"@team.Title"</p>
                        <p style="font-weight: bold;">Участники:</p>
                        @{
                            var participants = team.Participants.ToList();
                            for (int i = 0; i < team.Participants.Count; i++)
                            {
                                if (i == 0)
                                {
                                    <p>
                                        @(i + 1)) @participants[i].Name
                                    </p>
                                }
                                else
                                {
                                    <p>
                                        @(i + 1)) @participants[i].Name
                                    </p>
                                }
                            }
                        }
                        <p style="font-weight: bold;">Голосов: @ViewBag.TotalVotes[count - 1]</p>
                    </div>
                }
            }
            <!-- Add more team squares as needed -->
        </div>
        <div>
            <!-- Vote diagram square -->
            <div class="vote-diagram">
                <p>Диаграмма голосования</p>
                <!-- Add your hypothetical vote diagram here -->
            </div>
            <div>
                <a asp-controller="Viewers" asp-action="ViewersView" asp-route-votingEventId="@Model.Id">Редактировать зрителей</a>
                <a asp-controller="Viewers" asp-action="ViewersInvitesView" asp-route-votingEventId="@Model.Id">Отправка приглашений</a>
            </div>
        </div>
    </div>

    <div class="footer">
        <p></p>
    </div>

</body>
</html>
